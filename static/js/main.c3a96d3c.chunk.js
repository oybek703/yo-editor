(this["webpackJsonpportfolio-project"]=this["webpackJsonpportfolio-project"]||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},179:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"updateCell",(function(){return P})),n.d(r,"insertAfterCell",(function(){return V})),n.d(r,"deleteCell",(function(){return H})),n.d(r,"moveCell",(function(){return W})),n.d(r,"createBundle",(function(){return $}));n(104),n(105);var c,a=n(23),i=n.n(a),o=n(0),s=n(25),u=n(18),l=n(38);!function(e){e.MOVE_CELL="MOVE_CELL",e.DELETE_CELL="DELETE_CELL",e.INSERT_CELL_AFTER="INSERT_CELL_AFTER",e.UPDATE_CELL="UPDATE_CELL",e.BUNDLE_START="BUNDLE_START",e.BUNDLE_COMPLETE="BUNDLE_COMPLETE"}(c||(c={}));var d={loading:!0,error:null,order:[],data:{}};function p(){return Math.random().toString(36)}var b=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case c.UPDATE_CELL:var a=r.id,i=r.content;return e.data[a].content=i,e;case c.DELETE_CELL:return delete e.data.id,e.order=e.order.filter((function(e){return e!==r})),e;case c.MOVE_CELL:var o=r.id,s=r.direction,u=e.order.findIndex((function(e){return o===e})),l="up"===s?u-1:u+1;return l<0||l>e.order.length-1||(e.order[u]=e.order[l],e.order[l]=o),e;case c.INSERT_CELL_AFTER:var b=r.id,f=r.cellType,j={id:p(),content:"",type:f};e.data[j.id]=j;var h=e.order.findIndex((function(e){return e===b}));return h?e.order.push(j.id):e.order.splice(h+1,0,j.id),e;default:return e}}),d),f={},j=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case c.BUNDLE_START:var a=r.cellId;return e[a]={loading:!0,code:"",error:""},e;case c.BUNDLE_COMPLETE:var i=r.cellId,o=r.bundle,s=o.code,u=o.error;return e[i]={loading:!1,code:s,error:u},e;default:return e}}),f),h=Object(u.c)({cells:b,bundles:j}),v=n(87),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,O=Object(u.e)(h,{},m(Object(u.a)(v.a)));O.dispatch({type:c.INSERT_CELL_AFTER,payload:{id:null,cellType:"code"}});var x=O,E=s.c,w=(n(115),n(8)),L=(n(116),n(55)),g=n(7),y=n.n(g),C=n(12),N=n(53),T=function(){return{name:"unpkg-path-plugin",setup:function(e){e.onResolve({filter:/^index\.js$/},(function(e){return{path:e.path,namespace:"a"}})),e.onResolve({filter:/^\.+\//},(function(e){return{namespace:"a",path:new URL(e.path,"https://unpkg.com".concat(e.resolveDir,"/")).href}})),e.onResolve({filter:/.*/},function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:"https://unpkg.com/".concat(t.path),namespace:"a"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},_=n(54),R=n.n(_),k=n(95),D=n.n(k).a.createInstance({name:"fileCache"}),I=function(e){return{name:"fetch-plugin",setup:function(t){t.onLoad({filter:/^index\.js$/},(function(t){return{loader:"jsx",contents:e}})),t.onLoad({filter:/\.*/},function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getItem(t.path);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.onLoad({filter:/\.css$/},function(){var e=Object(C.a)(y.a.mark((function e(t){var n,r,c,a,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(t.path);case 2:return n=e.sent,r=n.data,c=n.request,a=r.replace(/\n/g,"").replace(/"/g,'\\"').replace(/'/g,"\\'"),i="\n            const style = document.createElement('style')\n            style.innerText = '".concat(a,"'\n            document.head.appendChild(style)\n        "),o={loader:"css",contents:i,resolveDir:new URL("./",c.responseURL).pathname},e.next=10,D.setItem(t.path,o);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.onLoad({filter:/.*/,namespace:"a"},function(){var e=Object(C.a)(y.a.mark((function e(t){var n,r,c,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(t.path);case 2:return n=e.sent,r=n.data,c=n.request,a={loader:"jsx",contents:r,resolveDir:new URL("./",c.responseURL).pathname},e.next=8,D.setItem(t.path,a);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},S=!1;function M(){return U.apply(this,arguments)}function U(){return(U=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.initialize({worker:!0,wasmURL:"https://unpkg.com/esbuild-wasm@0.14.48/esbuild.wasm"});case 2:S=!0;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return B.apply(this,arguments)}function B(){return(B=Object(C.a)(y.a.mark((function e(t){var n,r,c,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.build({entryPoints:["index.js"],bundle:!0,write:!1,plugins:[T(),I(t)],jsxFactory:"_React.createElement",jsxFragment:"_React.Fragment"});case 3:return n=e.sent,r=Object(w.a)(n.outputFiles,1),c=r[0],a=c.text,e.abrupt("return",{code:a,error:""});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"",error:String(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function F(e){return z.apply(this,arguments)}function z(){return(z=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return e.next=3,M();case 3:return e.next=5,A(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e,t){return{type:c.UPDATE_CELL,payload:{id:e,content:t}}},V=function(e,t){return{type:c.INSERT_CELL_AFTER,payload:{id:e,cellType:t}}},H=function(e){return{type:c.DELETE_CELL,payload:e}},W=function(e,t){return{type:c.MOVE_CELL,payload:{id:e,direction:t}}},$=function(e,t){return function(){var n=Object(C.a)(y.a.mark((function n(r){var a,i,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:c.BUNDLE_START,payload:{cellId:e}}),n.next=3,F(t);case 3:a=n.sent,i=a.code,o=a.error,r({type:c.BUNDLE_COMPLETE,payload:{cellId:e,bundle:{code:i,error:o}}});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(){var e=Object(s.b)();return Object(o.useMemo)((function(){return Object(u.b)(r,e)}),[e])},J=(n(172),n(1)),X=function(e){var t=e.cellId,n=q(),r=n.moveCell,c=n.deleteCell;return Object(J.jsxs)("div",{className:"action-bar",children:[Object(J.jsx)("button",{title:"Move up cell",className:"btn btn-sm btn-success action-btn",onClick:r.bind(null,t,"up"),children:Object(J.jsx)("i",{className:"bi bi-arrow-up"})}),Object(J.jsx)("button",{title:"Move down cell",className:"btn btn-sm btn-warning action-btn",onClick:r.bind(null,t,"down"),children:Object(J.jsx)("i",{className:"bi bi-arrow-down"})}),Object(J.jsx)("button",{title:"Delete cell",className:"btn btn-sm btn-danger action-btn",onClick:c.bind(null,t),children:Object(J.jsx)("i",{className:"bi bi-x"})})]})},Q=function(e){var t=e.cell,n=Object(o.useRef)(null),r=Object(o.useState)(!1),c=Object(w.a)(r,2),a=c[0],i=c[1],s=q().updateCell;return Object(o.useEffect)((function(){var e=function(e){e.target&&n.current&&n.current.contains(e.target)||i(!1)};return document.addEventListener("click",e,{capture:!0}),function(){return document.removeEventListener("click",e,{capture:!0})}}),[]),a?Object(J.jsxs)("div",{ref:n,className:"text-editor card text-cell",children:[Object(J.jsx)(X,{cellId:t.id}),Object(J.jsx)(L.a,{toolbarHeight:50,value:t.content,onChange:function(e){return s(t.id,e||"")}})]}):Object(J.jsxs)("div",{className:"card card-body pb-5",children:[Object(J.jsx)(X,{cellId:t.id}),Object(J.jsx)("div",{title:"Click to edit",className:"text-editor",onClick:i.bind(null,!0),children:Object(J.jsx)(L.a.Markdown,{source:t.content||"```# Click to edit```"})})]})},G=(n(173),n(174),n(99)),K=n(96),Y=n.n(K),Z=n(97),ee=n.n(Z),te=function(e){var t=e.defaultValue,n=e.value,r=e.handleChange,c=Object(o.useRef)(null);return Object(J.jsxs)("div",{className:"editor-wrapper",children:[c.current&&Object(J.jsx)("button",{className:"btn btn-sm btn-outline-success format-btn px-1 py-0",title:"Format code",onClick:function(){try{var e=c.current.getValue(),t=Y.a.format(e,{parser:"babel",plugins:[ee.a],useTabs:!0,semi:!1,singleQuote:!0}).replace(/\n$/,"");c.current.setValue(t)}catch(r){var n=String(r);alert(n),console.error(r)}},children:Object(J.jsx)("i",{className:"bi bi-code-square"})}),Object(J.jsx)(G.a,{value:n,onMount:function(e){c.current=e},defaultValue:t,language:"javascript",onChange:r,options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!0,folding:!1,lineNumbersMinChars:3,fontSize:16,scrollBeyondLastLine:!1,automaticLayout:!0},theme:"vs-dark",height:"100%"})]})},ne=n(3),re=(n(179),n(98)),ce=function(e){var t,n=e.direction,r=e.children,c=Object(o.useState)(window.innerHeight),a=Object(w.a)(c,2),i=a[0],s=a[1],u=Object(o.useState)(window.innerWidth),l=Object(w.a)(u,2),d=l[0],p=l[1],b=Object(o.useState)(.5*window.innerWidth),f=Object(w.a)(b,2),j=f[0],h=f[1];return t="vertical"===n?{minConstraints:[1/0,24],maxConstraints:[1/0,.9*i],height:300,width:1/0,resizeHandles:["s"]}:{className:"resize-horizontal",minConstraints:[.2*d,1/0],maxConstraints:[.5*d,1/0],height:1/0,width:j,resizeHandles:["e"],onResizeStop:function(e,t){h(t.size.width)}},Object(o.useEffect)((function(){var e=function(){var e;e&&clearTimeout(e),e=setTimeout((function(){s(window.innerHeight),p(window.innerWidth),window.innerWidth<j&&h(.5*window.innerWidth)}),200)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[j]),Object(J.jsx)(re.ResizableBox,Object(ne.a)(Object(ne.a)({},t),{},{children:r}))},ae=(n(186),"<html lang=\"en\">\n              <head>\n              <title>Preview</title>\n              <style>html {background-color: inherit;}</style>\n              </head>\n              <body><div id=\"root\"/></body>\n              <script>\n                  function handleError(error) {\n                    const root = document.querySelector('#root')\n                    root.innerHTML = '<div style=\"color: red; font-family: sans-serif;\"><h4>Error</h4>' + error + '</div>'\n                    console.error(error)\n                  }\n                  window.addEventListener('error', (event) => {\n                    event.preventDefault()\n                    handleError(event.error)\n                  })\n                  window.addEventListener('message', event => {\n                    try {\n                      eval(event.data)\n                    } catch (e) {\n                        handleError(e)  \n                    }\n                  }, false)\n                  <\/script>\n              </html> "),ie=function(e){var t=e.code,n=e.error,r=Object(o.useRef)(null);return Object(o.useEffect)((function(){r.current.srcdoc=ae,setTimeout((function(){r.current.contentWindow.postMessage(t,"*")}),50)}),[t]),Object(J.jsxs)("div",{className:"preview-wrapper",children:[Object(J.jsx)("iframe",{title:"preview",sandbox:"allow-scripts",ref:r,srcDoc:ae}),n&&Object(J.jsx)("div",{className:"preview-error",children:n})]})},oe=function(e){return E((function(t){var n=t.cells,r=n.data,c=[],a=n.order.map((function(e){return r[e]}));for(var i in a){var o=a[i],s=o.type,u=o.content,l=o.id;if("code"===s&&(l===e?c.push("\n    import _React from 'react'\n    import _ReactDOM from 'react-dom'\n    var show = value => {\n        const root = document.querySelector('#root')\n        if (typeof value === 'object') {\n            if(value.$$typeof && value.props) {\n                _ReactDOM.render(value, root)\n            } else{\n                root.innerHTML = JSON.stringify(value)\n            }\n        } else {\n            root.innerHTML = value\n    }\n}"):c.push("var show = () => {}"),c.push(u)),l===e)break}return c.join("\n")}))},se=function(e){var t=e.cell,n=q(),r=n.updateCell,c=n.createBundle,a=E((function(e){return e.bundles[t.id]})),i=oe(t.id);return Object(o.useEffect)((function(){var e;if(a)return e=setTimeout(Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.id,i);case 1:case"end":return e.stop()}}),e)}))),1e3),clearTimeout.bind(null,e);c(t.id,i)}),[t.id,i,c]),Object(J.jsx)("div",{className:"code-cell-wrapper",children:Object(J.jsx)(ce,{direction:"vertical",children:Object(J.jsxs)(o.Fragment,{children:[Object(J.jsx)(X,{cellId:t.id}),Object(J.jsxs)("div",{className:"code-cell",children:[Object(J.jsx)(ce,{direction:"horizontal",children:Object(J.jsx)(te,{handleChange:function(e){return e&&r(t.id,e)},value:t.content})}),Object(J.jsx)("div",{className:"progress-wrapper",children:!a||a.loading?Object(J.jsx)("progress",{className:"progress-bar-animated progress-cover",max:"100",children:"Loading"}):Object(J.jsx)(ie,{code:a.code,error:a.error})})]})]})})})},ue=function(e){var t,n=e.cell;return t="text"===n.type?Object(J.jsx)(Q,{cell:n}):Object(J.jsx)(se,{cell:n}),Object(J.jsx)("div",{className:"cell-list-item",children:t})},le=(n(187),function(e){var t=e.beforeCellId,n=e.forceVisible,r=void 0!==n&&n,c=q().insertAfterCell;return Object(J.jsxs)("div",{className:"add-cell-wrapper ".concat(r&&"force-visible"),children:[Object(J.jsxs)("button",{className:"btn btn-info mx-5",onClick:c.bind(null,t,"code"),children:[Object(J.jsx)("i",{className:"bi bi-plus-circle"})," "," "," Code"]}),Object(J.jsxs)("button",{className:"btn btn-info mx-5",onClick:c.bind(null,t,"text"),children:[Object(J.jsx)("i",{className:"bi bi-plus-circle"})," "," "," Text"]}),Object(J.jsx)("div",{className:"divider"})]})}),de=function(){var e=E((function(e){var t=e.cells,n=t.order,r=t.data;return n.map((function(e){return r[e]}))}));return Object(J.jsxs)(o.Fragment,{children:[Object(J.jsx)(le,{forceVisible:0===e.length,beforeCellId:null}),Object(J.jsx)("div",{className:"my-5",children:e.map((function(e){return Object(J.jsxs)(o.Fragment,{children:[Object(J.jsx)(ue,{cell:e},e.id),Object(J.jsx)(le,{beforeCellId:e.id})]},e.id)}))})]})};function pe(){return Object(J.jsx)("div",{className:"m-4 p-4",children:Object(J.jsx)(s.a,{store:x,children:Object(J.jsx)(de,{})})})}i.a.render(Object(J.jsx)(pe,{}),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.c3a96d3c.chunk.js.map